<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>

<head>
  <title>DataVision User's Manual</title>
  <link rel='stylesheet' href='style.css' type='text/css'>

</head>

<body>

<table width='100%'>
<tr><td><a href="install.html">&lt;= Previous</a> | <a href="embed.html">Next =&gt;</a> | <a href="DataVision.html">Table of Contents</a></td><td align='right'>
  <span class='header'>DataVision User's Manual</span>
</td></tr>
</table>
<hr>
<!-- **************************************************************** -->

<h1>3 Starting DataVision</h1>
<p>
You can run DataVision from either your favorite window manager or the
command line. If you start DataVision from the command line, you may run a
report without ever opening the DataVision GUI screens. In either case, you
will have to supply a database password if one is required for access to
the database.
</p>

<p>
When you start DataVision without specifying an existing report XML
file, a new, empty report will be opened.
</p>

<!-- ================================================================ -->
<a name="launch">
<h2>3.1 Launching DataVision</h2>
<p>
To start DataVision and create a new report, launch the file
<span class="file">datavision.sh</span> (Unix) or <span class="file">datavision.bat</span> (Windows)
by single- or double-clicking its icon (whichever is appropriate for your
window manager). An empty report design window will appear and a database
connection dialog box will open. See <a
href="create.html#dbconn"><span class="sec">Connecting to the Database</span></a> for
help filling out that dialog box.
</p>

<p>
To open an existing DataVision file or files, drag them on top of the
<span class="file">datavision.sh</span> icon.
</p>

<!-- ================================================================ -->
<a name="runcmd">
<h2>3.2 Running DataVision from the Command Line</h2>
<p>
To start DataVision from the command line, run the either script
<span class="file">datavision.sh</span> (Unix) or batch file <span class="file">datavision.bat</span>
(Windows). It sets the Java class path and runs DataVision, passing all
command line arguments to the application.
</p>

<!-- ................................................................ -->
<a name="usage">
<h3>3.2.1 Usage</h3>
<p>
<b>datavision.sh</b>
[<b>-c</b> <span class="var">file</span> | <b>-d</b> <span class="var">file</span>
 | <b>-E</b> <span class="var">file</span> | <b>-f</b> <span class="var">file</span>
 | <b>-h</b> <span class="var">file</span> | <b>-t</b> <span class="var">file</span>
 | <b>-l</b> <span class="var">file</span> | <b>-x</b> <span class="var">file</span> | <b>-w</b>]
[<b>-s</b> <span class="var">delim_char</span>]
[<b>-r</b> <span class="var">parameter_value_xml_file</span>]
[<b>-n</b> | <b>-p</b> <span class="var">db_password</span> |
<b>-e</b> <span class="var">data_file</span>]
[<b>-a</b> <span class="var">data_file_sep_char</span>]
[<b>-g</b> <span class="var">lang_code</span>]
[<b>-i</b> <span class="var">region_code</span>]
[<b>-q</b>]
[<b>-R</b> <span class="var">path</span>]
[<b>-O</b> <span class="var">path</span>]
[<span class="var">xml_file</span>...]
</p>


<p>
The first group of options tell DataVision to run the XML report file(s)
without opening the report design GUI. Each option character represents a
layout engine:
</p>

<dl>
    <dt><b>-c</b> <span class="var">file</span></dt><dd> character-delimited file; default
    delimiter character is a comma; use the <b>-s</b> option to specify a
    different character</dd>

    <dt><b>-d</b> <span class="var">file</span></dt><dd>  DocBook</dd>

    <dt><b>-E</b> <span class="var">file</span></dt><dd>  Excel (note this is a
      capital letter 'E', there is an unrelated option for lower-case 'e')</dd>

    <dt><b>-f</b> <span class="var">file</span></dt><dd>  PDF</dd>

    <dt><b>-h</b> <span class="var">file</span></dt><dd>  HTML</dd>

    <dt><b>-t</b> <span class="var">file</span></dt><dd>  CSS-based HTML</dd>

    <dt><b>-l</b> <span class="var">file</span></dt><dd>  LaTeX2e</dd>

    <dt><b>-x</b> <span class="var">file</span></dt><dd>  XML</dd>

    <dt><b>-w</b></dt><dd>  Swing</dd>
</dl>

<p>
If you specify a layout engine you must also specify at least one XML file.
The output file name for each report is either the optional <span class="var">file</span>
argument or, if that is not used, the name is created by replacing the
<span class="var">xml_file</span> file name's extension with one appropriate for the
specified layout engine. The Swing layout engine doesn't produce an output
file. See <a href="le.html"><span class="sec">Layout Engines</span></a> for more information
about the output produced by each layout engine. <span class="note">Specifying an output
file name along with multiple report XML files makes no sense because each
report will be output to the same file name, overwriting the previous output.
This is most likely not what you want.</span>
</p>

<p>
The <b>-s</b> option lets you specify a separator character for the
character-delimited file layout engine. The default delimiter character is
a comma. You may have to quote or escape your separator on the command
line, especially if it is a space, tab, or other character that is special
to the shell.
</p>

<p>
The <b>-p</b>, <b>-n</b>, and <b>-e</b> options determine what kind of
data source DataVision will use. These three options are mutually
exclusive. The <b>-p</b> option lets you specify the database connection
password; the report XML file must specify a database. The <b>-n</b> option
tells DataVision to use the database defined in the report XML file, but
that a password is either unnecessary or it is the empty string. Finally,
the <b>-e</b> option tells DataVision to read data from a
character-separated file. The default separator character is defined in the
report XML, but may be overridden by using the <b>-a</b> option.
</p>

<p>
If you specify a non-Swing layout engine you must specify a data source
by using one of the <b>-p</b>, <b>-n</b>, or <b>-e</b> options. When you
use the Swing layout engine and do not specify either of these options,
DataVision will use its standard database password dialog box to ask you
for the password.
</p>

<p>
If you do not specify a layout engine and do not specify the <b>-p</b>,
<b>-n</b>, or <b>-e</b> option, you will be asked for the database password
when the report is opened for editing.
</p>

<p>
If there are parameters in your report and you are running a &quot;headless&quot;
report (you specified a layout engine; the design window will not open),
then you need to specify the values of the parameters that appear in the
report. To do this, you create a small XML file and specify the parameter
values inside it. Pass this file on the command line using the <b>-r</b>
option. See <a href="param.html"><span class="sec">Parameter Value XML Files</span></a>.
For an example file, see <span class="file">parameters.xml</span> in the
<span class="dir">examples</span> directory.
</p>

<p>
If you are opening a new report for editing in the GUI (no XML file was
specified on the command line), a database connection dialog box will
appear before the report design window opens. See <a
href="create.html#dbconn"><span class="sec">Connecting to the Database</span></a> for
information about the database connection dialog.
</p>

<p>
The <b>-g</b> and <b>-i</b> options let you override your system's default
language and region. This affects the selection of the application's
display strings such as menu items and dialog box prompts. Each option's
value is a two letter code. <span class="var">lang_code</span> is a two-letter language
code (for example, &quot;en&quot; for English, &quot;fr&quot; for French).
<span class="var">region_code</span> is a two-letter region or country code; examples
include &quot;US&quot; for the United States and &quot;FR&quot; for France. Both values are
case-insensitive.
</p>

<p>
Normally, database table and column names are quoted when necessary (when
the case of the name does not match the case the JDBC driver uses when it
performs a query). Using the <b>-q</b> flag turns off this quoting, except
for names that contain spaces which are always quoted.
</p>

<p>
The <b>-R</b> and <b>-O</b> options let you specify a starting
reporting and/or output directory on the command
line. Also, report and output directories are
remembered using the java preferences API which stops
the JFileChooser directory being started in the users
home directory each time. This is very helpful for shared
report repositories.
</p>

<!-- ................................................................ -->
<h3>3.2.2 Examples</h3>
<p>
Create a new report and start editing it:
</p>

<pre class="codeblock">
datavision.sh
</pre>

<p>
Open an existing report and start editing it:
</p>

<pre class="codeblock">
datavision.sh report_file.xml
</pre>

<p>
Open an existing report that requires no password, run it and generate
the LaTeX file report_file.tex:
</p>

<pre class="codeblock">
datavision.sh -l -n report_file.xml
</pre>

<p>
Open an existing report that asks for parameter values but requires no
password, run it and generate the LaTeX file my_output.tex:
</p>

<pre class="codeblock">
datavision.sh -l my_output.tex -r parameters.xml -n report_file.xml
</pre>

<p>
Open an existing report that requires the password &quot;fred&quot;, run it and
generate the comma-separated file output.csv:
</p>

<pre class="codeblock">
datavision.sh -c output.csv -p fred report_file.xml
</pre>

<p>
Open an existing report that requires the password &quot;fred&quot;, run it and
generate the tab-separated file report_file.tab:
</p>

<pre class="codeblock">
datavision.sh -c -s &quot;&nbsp;&quot; -p fred report_file.xml
</pre>

<p>
(There should be a tab character between the double quotes.)
</p>

<p>
Open an existing report that reads data from the file <span class="file">data.csv</span>
and outputs it to PDF. The comma separator character defined in the report
XML file will be used.
</p>

<pre class="codeblock">
datavision.sh -f -e data.csv report_file.xml
</pre>

<!-- ================================================================ -->
<a name="fontprobs">
<h2>3.3 Font Display Problems</h2>
<p>
<b>Report Output</b> If you don't see the font you expect in report output,
make sure the layout engine you are using supports that font. In the
sections <a href="le.html#list"><span class="sec">Available Layout Engines</span></a> and
<a href="le.html#supported"><span class="sec">Supported Features</span></a>, the layouts
and their  available fonts or formatting options are discussed.
</p>

<p>
<b>DataVision GUI</b> Many languages uses non-Latin characters. For
example, Bulgarian uses Cyrillic characters. If these characters do not
display properly, you may need to upgrade your version of Java. Tony Tomov
(tomovtony@yahoo.com), our Bulgarian translator, did not see Cyrillic
characters properly until he upgraded to Java 1.3. When he upgraded to Java
1.4, he noticed that Cyrillic support had improved.
</p>

<!-- ================================================================ -->
<a name="fonterr">
<h2>3.4 Font Error Messages</h2>
<p>
On Mac OS X, after upgrading to Java 1.4.1 via the Apple software update
tool I have started seeing the same error message every time I launch
DataVision (the long lines have been broken up):
</p>

<pre class="codeblock">
2003-06-11 17:09:10.864 java[4080] Font GB18030Bitmap: in
_readBasicMetricsForSize, claims 0 max advance but is fixed-pitch.
2003-06-11 17:09:10.942 java[4080] Warning: Font LucidaSans-TypewriterBold
claims fixed-pitch with 0 max advance!
</pre>

<p>
These error messages appear harmless.
</p>

<p>
On some Linux systems (for example, Red Hat 7.<span class="var">x</span>), when you
start DataVision a whole slew of identical error messages are generated
that look something like this:
</p>

<pre class="codeblock">
Font specified in font.properties not found
[--symbol-medium-r-normal--*-%d-*-*-p-*-adobe-fontspecific]
</pre>

<p>
These error messages are harmless. There is at least one way to get rid of
them: edit the file <span class="file">$JAVA_HOME/jre/lib/font.properties</span> and
replace all occurrences of &quot;-adobe-&quot; with &quot;-urw&quot;. Note that you may
need to be root to edit this file.
</p>

<p>
Tom Van Overbeke (tom.van.overbeke@pandora.be) describes another way to get
rid of the messages: &quot;I checked all the fonts.dir available on my system,
there were a dozen of them. then I grepped through all of them to check for
"standard symbols l", and i found the entry in the file
<span class="file">/usr/share/fonts/default/Type1/fonts.dir</span>. The entry was:
</p>

<pre class="codeblock">
s050000l.pfb -URW-Standard Symbols
L-medium-r-normal--0-0-0-0-p-0-urw-fontspecific
</pre>

<p>
&quot;and I changed it to:
</p>

<pre class="codeblock">
s050000l.pfb -URW-Standard Symbols
L-medium-r-normal--0-0-0-0-p-0-adobe-fontspecific
</pre>

<p>
&quot;Then I quit X, stopped and restarted xfs and restarted X, and it
worked.&quot;
</p>

<!-- **************************************************************** -->
<hr>
<table width='100%'>
<tr><td><a href="install.html">&lt;= Previous</a> | <a href="embed.html">Next =&gt;</a> | <a href="DataVision.html">Table of Contents</a></td><td align='center'>
&nbsp;
</td><td align='right'>
    <span class='footer'>DataVision User's Manual</span>
</td></tr>
</table>

</body>
</html>
